<!DOCTYPE html>
<html lang="<%= lang %>" dir="<%= dir %>">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>
        <% if (lang === 'ar') { %>
            Careers Community - Ø¥Ù†Ø´Ø§Ø¡ Ø­Ø³Ø§Ø¨
        <% } else if (lang === 'en') { %>
            Careers Community - Sign Up
        <% } else if (lang === 'zh') { %>
            Careers Community - åˆ›å»ºè´¦æˆ·
        <% } else if (lang === 'ja') { %>
            Careers Community - ã‚¢ã‚«ã‚¦ãƒ³ãƒˆä½œæˆ
        <% } else if (lang === 'de') { %>
            Careers Community - Konto erstellen
        <% } else if (lang === 'fr') { %>
            Careers Community - CrÃ©er un compte
        <% } else if (lang === 'es') { %>
            Careers Community - Crear cuenta
        <% } else { %>
            Careers Community - Sign Up
        <% } %>
    </title>
    
    <!-- Ø®Ø·ÙˆØ· Google Fonts -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600;700&family=El+Messiri:wght@400;500;600;700&display=swap" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+SC:wght@400;500;700&family=Noto+Sans+JP:wght@400;500;700&family=Noto+Sans:wght@400;500;700&display=swap" rel="stylesheet">
    
    <!-- Font Awesome -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    
    <!-- CSS Ø§Ù„Ø®Ø§Ø±Ø¬ÙŠ -->
    <link rel="stylesheet" href="/css/signup.css">
</head>
<body class="font-<%= lang === 'ar' ? 'arabic' : lang === 'zh' ? 'chinese' : lang === 'ja' ? 'japanese' : 'default' %>">
    
    <!-- Ø®Ù„ÙÙŠØ© Ø§Ù„Ù†Ø¬ÙˆÙ… -->
    <div class="stars" id="stars"></div>
    
    <!-- Ø§Ù„Ø¹Ù†Ø§ØµØ± Ø§Ù„Ø¹Ø§Ø¦Ù…Ø© -->
    <div class="floating-element" id="floating1" style="width: 200px; height: 200px;"></div>
    <div class="floating-element" id="floating2" style="width: 150px; height: 150px;"></div>
    
    <!-- Ø²Ø± ØªØºÙŠÙŠØ± Ø§Ù„Ù„ØºØ© -->
    <div class="language-selector" id="languageSelector">
        <button class="language-btn" id="languageBtn">
            <i class="fas fa-globe"></i>
            <span class="current-lang"><%= langName %></span>
            <i class="fas fa-chevron-down"></i>
        </button>
        
        <div class="language-dropdown" id="languageDropdown">
            <div class="lang-option <%= lang === 'ar' ? 'active' : '' %>" data-lang="ar">
                <span>ğŸ‡¸ğŸ‡¦</span> <span>Ø§Ù„Ø¹Ø±Ø¨ÙŠØ©</span>
            </div>
            <div class="lang-option <%= lang === 'en' ? 'active' : '' %>" data-lang="en">
                <span>ğŸ‡ºğŸ‡¸</span> <span>English</span>
            </div>
            <div class="lang-option <%= lang === 'zh' ? 'active' : '' %>" data-lang="zh">
                <span>ğŸ‡¨ğŸ‡³</span> <span>ä¸­æ–‡ (Chinese)</span>
            </div>
            <div class="lang-option <%= lang === 'ja' ? 'active' : '' %>" data-lang="ja">
                <span>ğŸ‡¯ğŸ‡µ</span> <span>æ—¥æœ¬èª (Japanese)</span>
            </div>
            <div class="lang-option <%= lang === 'de' ? 'active' : '' %>" data-lang="de">
                <span>ğŸ‡©ğŸ‡ª</span> <span>Deutsch (German)</span>
            </div>
            <div class="lang-option <%= lang === 'fr' ? 'active' : '' %>" data-lang="fr">
                <span>ğŸ‡«ğŸ‡·</span> <span>FranÃ§ais (French)</span>
            </div>
            <div class="lang-option <%= lang === 'es' ? 'active' : '' %>" data-lang="es">
                <span>ğŸ‡ªğŸ‡¸</span> <span>EspaÃ±ol (Spanish)</span>
            </div>
        </div>
    </div>

    <!-- Ø§Ù„Ø­Ø§ÙˆÙŠØ© Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠØ© -->
    <div class="signup-container">
        <div class="signup-card">
            <!-- Ø§Ù„Ø¬Ø§Ù†Ø¨ Ø§Ù„Ø£ÙŠØ³Ø± -->
            <div class="signup-left">
                <div class="logo-section">
                    <div class="logo-icon">ğŸš€</div>
                    <div class="logo-text">Careers Community</div>
                    <p class="tagline text-transition">
                        <% if (lang === 'ar') { %>
                            Ø§Ù†Ø¶Ù… Ø¥Ù„Ù‰ Ù…Ø¬ØªÙ…Ø¹ Ø§Ù„Ù…Ù‡Ù† Ø§Ù„Ø±Ø§Ø¦Ø¯<br>ÙˆØ§Ø¨Ø¯Ø£ Ø±Ø­Ù„ØªÙƒ Ù†Ø­Ùˆ Ø§Ù„Ù†Ø¬Ø§Ø­ Ø§Ù„Ù…Ù‡Ù†ÙŠ
                        <% } else if (lang === 'en') { %>
                            Join the leading careers community<br>and start your journey to professional success
                        <% } else if (lang === 'zh') { %>
                            åŠ å…¥é¢†å…ˆçš„èŒä¸šç¤¾åŒº<br>å¼€å¯æ‚¨çš„èŒä¸šæˆåŠŸä¹‹æ—…
                        <% } else if (lang === 'ja') { %>
                            æœ€å…ˆç«¯ã®ã‚­ãƒ£ãƒªã‚¢ã‚³ãƒŸãƒ¥ãƒ‹ãƒ†ã‚£ã«å‚åŠ ã—<br>ãƒ—ãƒ­ã¨ã—ã¦ã®æˆåŠŸã¸ã®æ—…ã‚’å§‹ã‚ã¾ã—ã‚‡ã†
                        <% } else if (lang === 'de') { %>
                            Treten Sie der fÃ¼hrenden Karriere-Community bei<br>und starten Sie Ihre Reise zum beruflichen Erfolg
                        <% } else if (lang === 'fr') { %>
                            Rejoignez la communautÃ© leader des carriÃ¨res<br>et commencez votre chemin vers la rÃ©ussite professionnelle
                        <% } else if (lang === 'es') { %>
                            Ãšnete a la comunidad lÃ­der en carreras<br>y comienza tu camino hacia el Ã©xito profesional
                        <% } else { %>
                            Join the community. Start your journey.
                        <% } %>
                    </p>
                </div>
                
                <ul class="features-list">
                    <li class="feature-item">
                        <i class="fas fa-check-circle feature-icon"></i>
                        <span>
                            <% if (lang === 'ar') { %>Ø³ÙŠØ±Ø© Ø°Ø§ØªÙŠØ© Ø§Ø­ØªØ±Ø§ÙÙŠØ© Ù…Ø¬Ø§Ù†ÙŠØ©<% } 
                            else if (lang === 'en') { %>Free professional resume<% } 
                            else if (lang === 'zh') { %>å…è´¹ä¸“ä¸šç®€å†<% } 
                            else if (lang === 'ja') { %>ç„¡æ–™ã®ãƒ—ãƒ­ãƒ•ã‚§ãƒƒã‚·ãƒ§ãƒŠãƒ«ãªå±¥æ­´æ›¸<% } 
                            else if (lang === 'de') { %>Kostenloser professioneller Lebenslauf<% } 
                            else if (lang === 'fr') { %>CV professionnel gratuit<% } 
                            else if (lang === 'es') { %>CurrÃ­culum profesional gratuito<% } 
                            else { %>Professional CV<% } %>
                        </span>
                    </li>
                    <li class="feature-item">
                        <i class="fas fa-check-circle feature-icon"></i>
                        <span>
                            <% if (lang === 'ar') { %>ÙˆØµÙˆÙ„ Ø¥Ù„Ù‰ Ø£ÙØ¶Ù„ ÙØ±Øµ Ø§Ù„Ø¹Ù…Ù„<% } 
                            else if (lang === 'en') { %>Access to top job opportunities<% } 
                            else if (lang === 'zh') { %>è·å¾—é¡¶çº§å·¥ä½œæœºä¼š<% } 
                            else if (lang === 'ja') { %>ãƒˆãƒƒãƒ—æ±‚äººã«ã‚¢ã‚¯ã‚»ã‚¹<% } 
                            else if (lang === 'de') { %>Zugang zu erstklassigen Stellenangeboten<% } 
                            else if (lang === 'fr') { %>AccÃ¨s aux meilleures opportunitÃ©s d'emploi<% } 
                            else if (lang === 'es') { %>Acceso a las mejores oportunidades laborales<% } 
                            else { %>Top job opportunities<% } %>
                        </span>
                    </li>
                    <li class="feature-item">
                        <i class="fas fa-check-circle feature-icon"></i>
                        <span>
                            <% if (lang === 'ar') { %>ØªÙˆØ§ØµÙ„ Ù…Ø¹ Ø®Ø¨Ø±Ø§Ø¡ Ø§Ù„Ù…Ø¬Ø§Ù„<% } 
                            else if (lang === 'en') { %>Connect with field experts<% } 
                            else if (lang === 'zh') { %>ä¸é¢†åŸŸä¸“å®¶è”ç³»<% } 
                            else if (lang === 'ja') { %>åˆ†é‡ã®å°‚é–€å®¶ã¨ã¤ãªãŒã‚‹<% } 
                            else if (lang === 'de') { %>Vernetzen Sie sich mit Branchenexperten<% } 
                            else if (lang === 'fr') { %>Connectez-vous avec des experts du domaine<% } 
                            else if (lang === 'es') { %>ConÃ©ctate con expertos del sector<% } 
                            else { %>Connect with experts<% } %>
                        </span>
                    </li>
                    <li class="feature-item">
                        <i class="fas fa-check-circle feature-icon"></i>
                        <span>
                            <% if (lang === 'ar') { %>Ø¯ÙˆØ±Ø§Øª ØªØ¯Ø±ÙŠØ¨ÙŠØ© Ù…ØªØ®ØµØµØ©<% } 
                            else if (lang === 'en') { %>Specialized training courses<% } 
                            else if (lang === 'zh') { %>ä¸“ä¸šåŸ¹è®­è¯¾ç¨‹<% } 
                            else if (lang === 'ja') { %>å°‚é–€ãƒˆãƒ¬ãƒ¼ãƒ‹ãƒ³ã‚°ã‚³ãƒ¼ã‚¹<% } 
                            else if (lang === 'de') { %>Fachspezifische Schulungskurse<% } 
                            else if (lang === 'fr') { %>Cours de formation spÃ©cialisÃ©s<% } 
                            else if (lang === 'es') { %>Cursos de formaciÃ³n especializados<% } 
                            else { %>Training courses<% } %>
                        </span>
                    </li>
                </ul>
            </div>
            
            <!-- Ø§Ù„Ø¬Ø§Ù†Ø¨ Ø§Ù„Ø£ÙŠÙ…Ù† -->
            <div class="signup-right">
                <div class="signup-header">
                    <h1 class="signup-title text-transition">
                        <% if (lang === 'ar') { %>Ø¥Ù†Ø´Ø§Ø¡ Ø­Ø³Ø§Ø¨ Ø¬Ø¯ÙŠØ¯<% } 
                        else if (lang === 'en') { %>Create a New Account<% } 
                        else if (lang === 'zh') { %>åˆ›å»ºæ–°è´¦æˆ·<% } 
                        else if (lang === 'ja') { %>æ–°ã—ã„ã‚¢ã‚«ã‚¦ãƒ³ãƒˆã‚’ä½œæˆ<% } 
                        else if (lang === 'de') { %>Neues Konto erstellen<% } 
                        else if (lang === 'fr') { %>CrÃ©er un nouveau compte<% } 
                        else if (lang === 'es') { %>Crear una nueva cuenta<% } 
                        else { %>Sign Up<% } %>
                    </h1>
                    <p class="signup-subtitle text-transition">
                        <% if (lang === 'ar') { %>Ø§Ù…Ù„Ø£ Ø§Ù„ØªÙØ§ØµÙŠÙ„ Ù„Ø¨Ø¯Ø¡ Ø±Ø­Ù„ØªÙƒ Ø§Ù„Ù…Ù‡Ù†ÙŠØ©<% } 
                        else if (lang === 'en') { %>Fill in your details to start your professional journey<% } 
                        else if (lang === 'zh') { %>å¡«å†™è¯¦ç»†ä¿¡æ¯ä»¥å¼€å¯æ‚¨çš„èŒä¸šä¹‹æ—…<% } 
                        else if (lang === 'ja') { %>ãƒ—ãƒ­ãƒ•ã‚§ãƒƒã‚·ãƒ§ãƒŠãƒ«ãªæ—…ã‚’å§‹ã‚ã‚‹ãŸã‚ã«è©³ç´°ã‚’å…¥åŠ›ã—ã¦ãã ã•ã„<% } 
                        else if (lang === 'de') { %>Geben Sie Ihre Daten ein, um Ihre berufliche Reise zu beginnen<% } 
                        else if (lang === 'fr') { %>Remplissez vos coordonnÃ©es pour commencer votre parcours professionnel<% } 
                        else if (lang === 'es') { %>Completa tus datos para comenzar tu viaje profesional<% } 
                        else { %>Start your journey with us<% } %>
                    </p>
                </div>
                
                <form id="signupForm" class="signup-form">
                    <div class="form-group">
                        <label class="form-label" for="fullName">
                            <% if (lang === 'ar') { %>Ø§Ù„Ø§Ø³Ù… Ø§Ù„ÙƒØ§Ù…Ù„<% } 
                            else if (lang === 'en') { %>Full Name<% } 
                            else if (lang === 'zh') { %>å…¨å<% } 
                            else if (lang === 'ja') { %>æ°å<% } 
                            else if (lang === 'de') { %>VollstÃ¤ndiger Name<% } 
                            else if (lang === 'fr') { %>Nom complet<% } 
                            else if (lang === 'es') { %>Nombre completo<% } 
                            else { %>Full Name<% } %>
                        </label>
                        <input type="text" id="fullName" name="fullName" class="form-input" 
                            placeholder="<% if (lang === 'ar') { %>Ø£Ø¯Ø®Ù„ Ø§Ø³Ù…Ùƒ Ø§Ù„ÙƒØ§Ù…Ù„<% } 
                            else if (lang === 'en') { %>Enter your full name<% } 
                            else if (lang === 'zh') { %>è¾“å…¥æ‚¨çš„å…¨å<% } 
                            else if (lang === 'ja') { %>æ°åã‚’å…¥åŠ›<% } 
                            else if (lang === 'de') { %>Geben Sie Ihren vollstÃ¤ndigen Namen ein<% } 
                            else if (lang === 'fr') { %>Entrez votre nom complet<% } 
                            else if (lang === 'es') { %>Ingresa tu nombre completo<% } 
                            else { %>Full name<% } %>" 
                            required>
                        <div class="error-message" id="nameError">
                            <% if (lang === 'ar') { %>Ø§Ù„Ø±Ø¬Ø§Ø¡ Ø¥Ø¯Ø®Ø§Ù„ Ø§Ø³Ù… ØµØ­ÙŠØ­<% } 
                            else if (lang === 'en') { %>Please enter a valid name<% } 
                            else if (lang === 'zh') { %>è¯·è¾“å…¥æœ‰æ•ˆå§“å<% } 
                            else if (lang === 'ja') { %>æœ‰åŠ¹ãªåå‰ã‚’å…¥åŠ›ã—ã¦ãã ã•ã„<% } 
                            else if (lang === 'de') { %>Bitte geben Sie einen gÃ¼ltigen Namen ein<% } 
                            else if (lang === 'fr') { %>Veuillez entrer un nom valide<% } 
                            else if (lang === 'es') { %>Por favor, ingresa un nombre vÃ¡lido<% } 
                            else { %>Please enter a valid name<% } %>
                        </div>
                    </div>
                    
                    <div class="form-group">
                        <label class="form-label" for="email">
                            <% if (lang === 'ar') { %>Ø§Ù„Ø¨Ø±ÙŠØ¯ Ø§Ù„Ø¥Ù„ÙƒØªØ±ÙˆÙ†ÙŠ<% } 
                            else if (lang === 'en') { %>Email<% } 
                            else if (lang === 'zh') { %>ç”µå­é‚®ç®±<% } 
                            else if (lang === 'ja') { %>ãƒ¡ãƒ¼ãƒ«ã‚¢ãƒ‰ãƒ¬ã‚¹<% } 
                            else if (lang === 'de') { %>E-Mail<% } 
                            else if (lang === 'fr') { %>E-mail<% } 
                            else if (lang === 'es') { %>Correo electrÃ³nico<% } 
                            else { %>Email<% } %>
                        </label>
                        <input type="email" id="email" name="email" class="form-input" 
                            placeholder="example@email.com" required>
                        <div class="error-message" id="emailError">
                            <% if (lang === 'ar') { %>Ø§Ù„Ø±Ø¬Ø§Ø¡ Ø¥Ø¯Ø®Ø§Ù„ Ø¨Ø±ÙŠØ¯ Ø¥Ù„ÙƒØªØ±ÙˆÙ†ÙŠ ØµØ­ÙŠØ­<% } 
                            else if (lang === 'en') { %>Please enter a valid email<% } 
                            else if (lang === 'zh') { %>è¯·è¾“å…¥æœ‰æ•ˆé‚®ç®±<% } 
                            else if (lang === 'ja') { %>æœ‰åŠ¹ãªãƒ¡ãƒ¼ãƒ«ã‚¢ãƒ‰ãƒ¬ã‚¹ã‚’å…¥åŠ›ã—ã¦ãã ã•ã„<% } 
                            else if (lang === 'de') { %>Bitte geben Sie eine gÃ¼ltige E-Mail ein<% } 
                            else if (lang === 'fr') { %>Veuillez entrer un e-mail valide<% } 
                            else if (lang === 'es') { %>Por favor, ingresa un correo vÃ¡lido<% } 
                            else { %>Please enter a valid email<% } %>
                        </div>
                    </div>
                    
                    <div class="form-group">
                        <label class="form-label" for="phone">
                            <% if (lang === 'ar') { %>Ø±Ù‚Ù… Ø§Ù„Ù‡Ø§ØªÙ<% } 
                            else if (lang === 'en') { %>Phone Number<% } 
                            else if (lang === 'zh') { %>ç”µè¯å·ç <% } 
                            else if (lang === 'ja') { %>é›»è©±ç•ªå·<% } 
                            else if (lang === 'de') { %>Telefonnummer<% } 
                            else if (lang === 'fr') { %>NumÃ©ro de tÃ©lÃ©phone<% } 
                            else if (lang === 'es') { %>NÃºmero de telÃ©fono<% } 
                            else { %>Phone<% } %>
                        </label>
                        <input type="tel" id="phone" name="phone" class="form-input" 
                            placeholder="<% if (lang === 'ar') { %>05XXXXXXXX<% } 
                            else if (lang === 'en') { %>05XXXXXXXX<% } 
                            else if (lang === 'zh') { %>05XXXXXXXX<% } 
                            else if (lang === 'ja') { %>05XXXXXXXX<% } 
                            else if (lang === 'de') { %>05XXXXXXXX<% } 
                            else if (lang === 'fr') { %>05XXXXXXXX<% } 
                            else if (lang === 'es') { %>05XXXXXXXX<% } 
                            else { %>Phone number<% } %>" 
                            required>
                        <div class="error-message" id="phoneError">
                            <% if (lang === 'ar') { %>Ø§Ù„Ø±Ø¬Ø§Ø¡ Ø¥Ø¯Ø®Ø§Ù„ Ø±Ù‚Ù… Ù‡Ø§ØªÙ ØµØ­ÙŠØ­<% } 
                            else if (lang === 'en') { %>Please enter a valid phone number<% } 
                            else if (lang === 'zh') { %>è¯·è¾“å…¥æœ‰æ•ˆç”µè¯å·ç <% } 
                            else if (lang === 'ja') { %>æœ‰åŠ¹ãªé›»è©±ç•ªå·ã‚’å…¥åŠ›ã—ã¦ãã ã•ã„<% } 
                            else if (lang === 'de') { %>Bitte geben Sie eine gÃ¼ltige Telefonnummer ein<% } 
                            else if (lang === 'fr') { %>Veuillez entrer un numÃ©ro de tÃ©lÃ©phone valide<% } 
                            else if (lang === 'es') { %>Por favor, ingresa un nÃºmero vÃ¡lido<% } 
                            else { %>Please enter a valid phone<% } %>
                        </div>
                    </div>
                    
                    <div class="form-group">
                        <label class="form-label" for="password">
                            <% if (lang === 'ar') { %>ÙƒÙ„Ù…Ø© Ø§Ù„Ù…Ø±ÙˆØ±<% } 
                            else if (lang === 'en') { %>Password<% } 
                            else if (lang === 'zh') { %>å¯†ç <% } 
                            else if (lang === 'ja') { %>ãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰<% } 
                            else if (lang === 'de') { %>Passwort<% } 
                            else if (lang === 'fr') { %>Mot de passe<% } 
                            else if (lang === 'es') { %>ContraseÃ±a<% } 
                            else { %>Password<% } %>
                        </label>
                        <div class="password-container">
                            <input type="password" id="password" name="password" class="form-input" 
                                placeholder="<% if (lang === 'ar') { %>Ø£Ø¯Ø®Ù„ ÙƒÙ„Ù…Ø© Ù…Ø±ÙˆØ± Ù‚ÙˆÙŠØ©<% } 
                                else if (lang === 'en') { %>Enter a strong password<% } 
                                else if (lang === 'zh') { %>è¾“å…¥å¼ºå¯†ç <% } 
                                else if (lang === 'ja') { %>å¼·åŠ›ãªãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰ã‚’å…¥åŠ›<% } 
                                else if (lang === 'de') { %>Geben Sie ein sicheres Passwort ein<% } 
                                else if (lang === 'fr') { %>Entrez un mot de passe fort<% } 
                                else if (lang === 'es') { %>Ingresa una contraseÃ±a segura<% } 
                                else { %>Strong password<% } %>" 
                                required>
                            <button type="button" class="toggle-password" id="togglePassword">
                                <i class="far fa-eye"></i>
                            </button>
                        </div>
                        <div class="password-strength">
                            <div class="strength-segment" id="strength1"></div>
                            <div class="strength-segment" id="strength2"></div>
                            <div class="strength-segment" id="strength3"></div>
                            <div class="strength-segment" id="strength4"></div>
                        </div>
                        <div class="error-message" id="passwordError">
                            <% if (lang === 'ar') { %>ÙƒÙ„Ù…Ø© Ø§Ù„Ù…Ø±ÙˆØ± ÙŠØ¬Ø¨ Ø£Ù† ØªÙƒÙˆÙ† 8 Ø£Ø­Ø±Ù Ø¹Ù„Ù‰ Ø§Ù„Ø£Ù‚Ù„<% } 
                            else if (lang === 'en') { %>Password must be at least 8 characters<% } 
                            else if (lang === 'zh') { %>å¯†ç è‡³å°‘8ä¸ªå­—ç¬¦<% } 
                            else if (lang === 'ja') { %>ãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰ã¯8æ–‡å­—ä»¥ä¸Šã§<% } 
                            else if (lang === 'de') { %>Passwort muss mindestens 8 Zeichen lang sein<% } 
                            else if (lang === 'fr') { %>Le mot de passe doit comporter au moins 8 caractÃ¨res<% } 
                            else if (lang === 'es') { %>La contraseÃ±a debe tener al menos 8 caracteres<% } 
                            else { %>Min 8 characters<% } %>
                        </div>
                    </div>
                    
                    <div class="form-group">
                        <label class="form-label" for="confirmPassword">
                            <% if (lang === 'ar') { %>ØªØ£ÙƒÙŠØ¯ ÙƒÙ„Ù…Ø© Ø§Ù„Ù…Ø±ÙˆØ±<% } 
                            else if (lang === 'en') { %>Confirm Password<% } 
                            else if (lang === 'zh') { %>ç¡®è®¤å¯†ç <% } 
                            else if (lang === 'ja') { %>ãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰ç¢ºèª<% } 
                            else if (lang === 'de') { %>Passwort bestÃ¤tigen<% } 
                            else if (lang === 'fr') { %>Confirmer le mot de passe<% } 
                            else if (lang === 'es') { %>Confirmar contraseÃ±a<% } 
                            else { %>Confirm Password<% } %>
                        </label>
                        <div class="password-container">
                            <input type="password" id="confirmPassword" name="confirmPassword" class="form-input" 
                                placeholder="<% if (lang === 'ar') { %>Ø£Ø¹Ø¯ Ø¥Ø¯Ø®Ø§Ù„ ÙƒÙ„Ù…Ø© Ø§Ù„Ù…Ø±ÙˆØ±<% } 
                                else if (lang === 'en') { %>Re-enter password<% } 
                                else if (lang === 'zh') { %>é‡æ–°è¾“å…¥å¯†ç <% } 
                                else if (lang === 'ja') { %>ãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰ã‚’å†å…¥åŠ›<% } 
                                else if (lang === 'de') { %>Passwort erneut eingeben<% } 
                                else if (lang === 'fr') { %>RÃ©entrez le mot de passe<% } 
                                else if (lang === 'es') { %>Vuelve a ingresar la contraseÃ±a<% } 
                                else { %>Confirm password<% } %>" 
                                required>
                            <button type="button" class="toggle-password" id="toggleConfirmPassword">
                                <i class="far fa-eye"></i>
                            </button>
                        </div>
                        <div class="error-message" id="confirmPasswordError">
                            <% if (lang === 'ar') { %>ÙƒÙ„Ù…Ø© Ø§Ù„Ù…Ø±ÙˆØ± ØºÙŠØ± Ù…ØªØ·Ø§Ø¨Ù‚Ø©<% } 
                            else if (lang === 'en') { %>Passwords do not match<% } 
                            else if (lang === 'zh') { %>å¯†ç ä¸åŒ¹é…<% } 
                            else if (lang === 'ja') { %>ãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰ãŒä¸€è‡´ã—ã¾ã›ã‚“<% } 
                            else if (lang === 'de') { %>PasswÃ¶rter stimmen nicht Ã¼berein<% } 
                            else if (lang === 'fr') { %>Les mots de passe ne correspondent pas<% } 
                            else if (lang === 'es') { %>Las contraseÃ±as no coinciden<% } 
                            else { %>Passwords don't match<% } %>
                        </div>
                    </div>
                    
                    <div class="terms-group">
                        <input type="checkbox" id="terms" name="terms" class="terms-checkbox" required>
                        <label for="terms" class="terms-label">
                            <% if (lang === 'ar') { %>
                                Ø£ÙˆØ§ÙÙ‚ Ø¹Ù„Ù‰ <a href="#" class="terms-link">Ø´Ø±ÙˆØ· Ø§Ù„Ø§Ø³ØªØ®Ø¯Ø§Ù…</a> Ùˆ <a href="#" class="terms-link">Ø³ÙŠØ§Ø³Ø© Ø§Ù„Ø®ØµÙˆØµÙŠØ©</a>
                            <% } else if (lang === 'en') { %>
                                I agree to the <a href="#" class="terms-link">Terms of Use</a> and <a href="#" class="terms-link">Privacy Policy</a>
                            <% } else if (lang === 'zh') { %>
                                æˆ‘åŒæ„<a href="#" class="terms-link">ä½¿ç”¨æ¡æ¬¾</a>å’Œ<a href="#" class="terms-link">éšç§æ”¿ç­–</a>
                            <% } else if (lang === 'ja') { %>
                                <a href="#" class="terms-link">åˆ©ç”¨è¦ç´„</a>ãŠã‚ˆã³<a href="#" class="terms-link">ãƒ—ãƒ©ã‚¤ãƒã‚·ãƒ¼ãƒãƒªã‚·ãƒ¼</a>ã«åŒæ„ã—ã¾ã™
                            <% } else if (lang === 'de') { %>
                                Ich stimme den <a href="#" class="terms-link">Nutzungsbedingungen</a> und der <a href="#" class="terms-link">Datenschutzrichtlinie</a> zu
                            <% } else if (lang === 'fr') { %>
                                J'accepte les <a href="#" class="terms-link">Conditions d'utilisation</a> et la <a href="#" class="terms-link">Politique de confidentialitÃ©</a>
                            <% } else if (lang === 'es') { %>
                                Acepto los <a href="#" class="terms-link">TÃ©rminos de uso</a> y la <a href="#" class="terms-link">PolÃ­tica de privacidad</a>
                            <% } else { %>
                                I agree to the <a href="#" class="terms-link">Terms</a> and <a href="#" class="terms-link">Privacy Policy</a>
                            <% } %>
                        </label>
                    </div>
                    
                    <button type="submit" class="signup-btn">
                        <span>
                            <% if (lang === 'ar') { %>Ø¥Ù†Ø´Ø§Ø¡ Ø­Ø³Ø§Ø¨<% } 
                            else if (lang === 'en') { %>Create Account<% } 
                            else if (lang === 'zh') { %>åˆ›å»ºè´¦æˆ·<% } 
                            else if (lang === 'ja') { %>ã‚¢ã‚«ã‚¦ãƒ³ãƒˆã‚’ä½œæˆ<% } 
                            else if (lang === 'de') { %>Konto erstellen<% } 
                            else if (lang === 'fr') { %>CrÃ©er un compte<% } 
                            else if (lang === 'es') { %>Crear cuenta<% } 
                            else { %>Sign Up<% } %>
                        </span>
                        <i class="fas fa-user-plus btn-icon"></i>
                    </button>
                </form>
                
                <div class="divider">
                    <span class="divider-text">
                        <% if (lang === 'ar') { %>Ø£Ùˆ Ø³Ø¬Ù„ Ø¨Ø§Ø³ØªØ®Ø¯Ø§Ù…<% } 
                        else if (lang === 'en') { %>Or sign up with<% } 
                        else if (lang === 'zh') { %>æˆ–ä½¿ç”¨<% } 
                        else if (lang === 'ja') { %>ã¾ãŸã¯ã§ã‚µã‚¤ãƒ³ã‚¢ãƒƒãƒ—<% } 
                        else if (lang === 'de') { %>Oder anmelden mit<% } 
                        else if (lang === 'fr') { %>Ou s'inscrire avec<% } 
                        else if (lang === 'es') { %>O regÃ­strate con<% } 
                        else { %>Or sign up with<% } %>
                    </span>
                </div>
                
                <button class="google-btn" id="googleSignup">
                    <i class="fab fa-google google-icon"></i>
                    <span>
                        <% if (lang === 'ar') { %>Ø§Ù„ØªØ³Ø¬ÙŠÙ„ Ø¨Ø§Ø³ØªØ®Ø¯Ø§Ù… Ø¬ÙˆØ¬Ù„<% } 
                        else if (lang === 'en') { %>Sign up with Google<% } 
                        else if (lang === 'zh') { %>ä½¿ç”¨ Google æ³¨å†Œ<% } 
                        else if (lang === 'ja') { %>Google ã§ã‚µã‚¤ãƒ³ã‚¢ãƒƒãƒ—<% } 
                        else if (lang === 'de') { %>Mit Google anmelden<% } 
                        else if (lang === 'fr') { %>S'inscrire avec Google<% } 
                        else if (lang === 'es') { %>Registrarse con Google<% } 
                        else { %>Sign up with Google<% } %>
                    </span>
                </button>
                
                <div class="login-link">
                    <p>
                        <% if (lang === 'ar') { %>Ù„Ø¯ÙŠÙƒ Ø­Ø³Ø§Ø¨ Ø¨Ø§Ù„ÙØ¹Ù„ØŸ <a href="/login">Ø³Ø¬Ù„ Ø§Ù„Ø¯Ø®ÙˆÙ„</a><% } 
                        else if (lang === 'en') { %>Already have an account? <a href="/login">Log in</a><% } 
                        else if (lang === 'zh') { %>å·²æœ‰è´¦æˆ·ï¼Ÿ<a href="/login">ç™»å½•</a><% } 
                        else if (lang === 'ja') { %>ã™ã§ã«ã‚¢ã‚«ã‚¦ãƒ³ãƒˆã‚’ãŠæŒã¡ã§ã™ã‹ï¼Ÿ<a href="/login">ãƒ­ã‚°ã‚¤ãƒ³</a><% } 
                        else if (lang === 'de') { %>Sie haben bereits ein Konto? <a href="/login">Anmelden</a><% } 
                        else if (lang === 'fr') { %>Vous avez dÃ©jÃ  un compte ? <a href="/login">Se connecter</a><% } 
                        else if (lang === 'es') { %>Â¿Ya tienes una cuenta? <a href="/login">Iniciar sesiÃ³n</a><% } 
                        else { %>Already have an account? <a href="/login">Log in</a><% } %>
                    </p>
                </div>
            </div>
        </div>
    </div>
    
    <script>
        // Ø¥Ù†Ø´Ø§Ø¡ Ø§Ù„Ù†Ø¬ÙˆÙ…
        function createStars() {
            const starsContainer = document.getElementById('stars');
            const starCount = 100;
            for (let i = 0; i < starCount; i++) {
                const star = document.createElement('div');
                star.classList.add('star');
                const size = Math.random() * 2 + 1;
                star.style.width = `${size}px`;
                star.style.height = `${size}px`;
                star.style.left = `${Math.random() * 100}%`;
                star.style.top = `${Math.random() * 100}%`;
                star.style.animationDelay = `${Math.random() * 3}s`;
                starsContainer.appendChild(star);
            }
        }
        
        // ØªØ·Ø¨ÙŠÙ‚ Ø§ØªØ¬Ø§Ù‡ Ø§Ù„Ø¹Ù†Ø§ØµØ± Ø¨Ù†Ø§Ø¡Ù‹ Ø¹Ù„Ù‰ Ø§Ù„Ù„ØºØ©
        function applyDirectionStyles() {
            const isRTL = '<%= dir %>' === 'rtl';
            const floating1 = document.getElementById('floating1');
            const floating2 = document.getElementById('floating2');
            const togglePassword = document.getElementById('togglePassword');
            const toggleConfirmPassword = document.getElementById('toggleConfirmPassword');
            const langSelector = document.getElementById('languageSelector');

            if (floating1) {
                floating1.style.top = '10%';
                floating1.style[isRTL ? 'left' : 'right'] = '5%';
            }
            if (floating2) {
                floating2.style.bottom = '20%';
                floating2.style[isRTL ? 'right' : 'left'] = '10%';
            }
            if (togglePassword) {
                togglePassword.style[isRTL ? 'left' : 'right'] = '15px';
            }
            if (toggleConfirmPassword) {
                toggleConfirmPassword.style[isRTL ? 'left' : 'right'] = '15px';
            }
            if (langSelector) {
                langSelector.style[isRTL ? 'left' : 'right'] = '20px';
            }
        }

        // ØªØ¨Ø¯ÙŠÙ„ Ø±Ø¤ÙŠØ© ÙƒÙ„Ù…Ø© Ø§Ù„Ù…Ø±ÙˆØ±
        document.getElementById('togglePassword')?.addEventListener('click', function() {
            const input = document.getElementById('password');
            const icon = this.querySelector('i');
            if (input.type === 'password') {
                input.type = 'text';
                icon.classList.replace('fa-eye', 'fa-eye-slash');
            } else {
                input.type = 'password';
                icon.classList.replace('fa-eye-slash', 'fa-eye');
            }
        });

        document.getElementById('toggleConfirmPassword')?.addEventListener('click', function() {
            const input = document.getElementById('confirmPassword');
            const icon = this.querySelector('i');
            if (input.type === 'password') {
                input.type = 'text';
                icon.classList.replace('fa-eye', 'fa-eye-slash');
            } else {
                input.type = 'password';
                icon.classList.replace('fa-eye-slash', 'fa-eye');
            }
        });

        // Ù‚ÙˆØ© ÙƒÙ„Ù…Ø© Ø§Ù„Ù…Ø±ÙˆØ±
        document.getElementById('password')?.addEventListener('input', function() {
            const p = this.value;
            const segs = ['strength1','strength2','strength3','strength4'].map(id => document.getElementById(id));
            segs.forEach(s => { if (s) s.style.background = 'rgba(255, 215, 0, 0.1)'; });
            let s = 0;
            if (p.length >= 8) s++;
            if (/[a-z]/.test(p) && /[A-Z]/.test(p)) s++;
            if (/\d/.test(p)) s++;
            if (/[^A-Za-z0-9]/.test(p)) s++;
            for (let i = 0; i < s; i++) {
                if (segs[i]) {
                    const int = (i + 1) / 4;
                    segs[i].style.background = `linear-gradient(90deg, rgba(255, 215, 0, ${int}), rgba(255, 165, 0, ${int}))`;
                }
            }
        });

        // Ø§Ù„ØªØ­Ù‚Ù‚ Ù…Ù† ØªØ·Ø§Ø¨Ù‚ ÙƒÙ„Ù…Ø© Ø§Ù„Ù…Ø±ÙˆØ±
        document.getElementById('confirmPassword')?.addEventListener('input', function() {
            const pass = document.getElementById('password')?.value || '';
            const conf = this.value;
            const err = document.getElementById('confirmPasswordError');
            if (conf && pass !== conf) {
                this.classList.add('error');
                if (err) err.style.display = 'block';
            } else {
                this.classList.remove('error');
                if (err) err.style.display = 'none';
            }
        });

        // === Ù…Ø¹Ø§Ù„Ø¬Ø© Ø¥Ø±Ø³Ø§Ù„ Ø§Ù„Ù†Ù…ÙˆØ°Ø¬ Ø§Ù„Ø­Ù‚ÙŠÙ‚ÙŠ ===
        document.getElementById('signupForm')?.addEventListener('submit', async function(e) {
            e.preventDefault(); // Ù…Ù†Ø¹ Ø§Ù„Ø¥Ø±Ø³Ø§Ù„ Ø§Ù„Ø§ÙØªØ±Ø§Ø¶ÙŠ
            
            // 1. Ø§Ù„ØªØ­Ù‚Ù‚ Ù…Ù† Ø§Ù„ØµÙ„Ø§Ø­ÙŠØ©
            let isValid = true;
            const name = document.getElementById('fullName').value;
            if (!name || name.trim().length < 2) {
                document.getElementById('nameError').style.display = 'block';
                isValid = false;
            } else {
                document.getElementById('nameError').style.display = 'none';
            }
            
            const email = document.getElementById('email').value;
            const emailRegex = /^[^\s@]+@[^\s@]+\.[^\s@]+$/;
            if (!emailRegex.test(email)) {
                document.getElementById('emailError').style.display = 'block';
                isValid = false;
            } else {
                document.getElementById('emailError').style.display = 'none';
            }
            
            const password = document.getElementById('password').value;
            if (password.length < 8) {
                document.getElementById('passwordError').style.display = 'block';
                isValid = false;
            } else {
                document.getElementById('passwordError').style.display = 'none';
            }
            
            const confirmPassword = document.getElementById('confirmPassword').value;
            if (password !== confirmPassword) {
                document.getElementById('confirmPasswordError').style.display = 'block';
                isValid = false;
            } else {
                document.getElementById('confirmPasswordError').style.display = 'none';
            }
            
            if (!isValid) return;
            
            // 2. Ø¥Ø¹Ø¯Ø§Ø¯ Ø§Ù„Ø²Ø± Ù„Ù„Ø¥Ø±Ø³Ø§Ù„
            const submitBtn = this.querySelector('.signup-btn');
            const originalText = submitBtn.innerHTML;
            submitBtn.disabled = true;
            submitBtn.innerHTML = `
                <span><%= lang === 'ar' ? 'Ø¬Ø§Ø±ÙŠ Ø§Ù„Ø¥Ù†Ø´Ø§Ø¡...' : 'Creating account...' %></span>
                <i class="fas fa-spinner fa-spin btn-icon"></i>
            `;
            
            // 3. Ø¬Ù…Ø¹ Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ù†Ù…ÙˆØ°Ø¬
            const formData = {
                fullName: document.getElementById('fullName').value,
                email: document.getElementById('email').value,
                phone: document.getElementById('phone').value,
                password: document.getElementById('password').value,
                confirmPassword: document.getElementById('confirmPassword').value,
                terms: document.getElementById('terms').checked
            };
            
            try {
                // 4. Ø¥Ø±Ø³Ø§Ù„ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª Ø¥Ù„Ù‰ Ø§Ù„Ø®Ø§Ø¯Ù…
                const response = await fetch('/signup-process', {
                    method: 'POST',
                    headers: {
                        'Content-Type': 'application/json'
                    },
                    body: JSON.stringify(formData)
                });
                
                const result = await response.json();
                
                // 5. Ù…Ø¹Ø§Ù„Ø¬Ø© Ø§Ù„Ø§Ø³ØªØ¬Ø§Ø¨Ø©
                if (result.success) {
                    // ØªØ­Ø¯ÙŠØ« Ù…Ø¸Ù‡Ø± Ø§Ù„Ø²Ø±
                    submitBtn.innerHTML = `
                        <span><%= lang === 'ar' ? 'ØªÙ… Ø§Ù„Ø¥Ù†Ø´Ø§Ø¡ Ø¨Ù†Ø¬Ø§Ø­!' : 'Success!' %></span>
                        <i class="fas fa-check btn-icon"></i>
                    `;
                    submitBtn.style.background = 'linear-gradient(45deg, #4CAF50, #45a049)';
                    
                    // 6. Ø§Ù„ØªÙˆØ¬ÙŠÙ‡ Ø¥Ù„Ù‰ Ø§Ù„Ù…Ø³Ø§Ø± Ø§Ù„Ù…Ø­Ø¯Ø¯ ÙÙŠ Ø§Ù„Ø§Ø³ØªØ¬Ø§Ø¨Ø©
                    const redirectUrl = result.redirect || '/application';
                    setTimeout(() => {
                        window.location.href = redirectUrl;
                    }, 1500);
                } else {
                    throw new Error(result.message || '<%= lang === "ar" ? "ÙØ´Ù„ ÙÙŠ Ø¥Ù†Ø´Ø§Ø¡ Ø§Ù„Ø­Ø³Ø§Ø¨" : "Account creation failed" %>');
                }
            } catch (error) {
                console.error('Signup error:', error);
                // Ø§Ø³ØªØ¹Ø§Ø¯Ø© Ø§Ù„Ø²Ø±
                submitBtn.innerHTML = originalText;
                submitBtn.disabled = false;
                
                // Ø¹Ø±Ø¶ Ø®Ø·Ø£ Ù„Ù„Ù…Ø³ØªØ®Ø¯Ù…
                alert(`<%= lang === 'ar' ? 'âŒ Ø®Ø·Ø£: ' : 'âŒ Error: ' %>${error.message}`);
            }
        });

        // Ø²Ø± Ø¬ÙˆØ¬Ù„
        document.getElementById('googleSignup')?.addEventListener('click', function() {
            window.location.href = '/auth/google';
        });

        // === ØªØºÙŠÙŠØ± Ø§Ù„Ù„ØºØ© ===
        const languageBtn = document.getElementById('languageBtn');
        const languageDropdown = document.getElementById('languageDropdown');

        if (languageBtn && languageDropdown) {
            languageBtn.addEventListener('click', e => {
                e.stopPropagation();
                languageDropdown.classList.toggle('show');
            });

            document.addEventListener('click', e => {
                if (!e.target.closest('.language-selector')) {
                    languageDropdown.classList.remove('show');
                }
            });

            document.querySelectorAll('.lang-option').forEach(opt => {
                opt.addEventListener('click', async e => {
                    e.preventDefault();
                    const lang = opt.dataset.lang;
                    const langName = opt.querySelector('span:last-child').textContent.trim();

                    document.body.classList.add('page-transition');
                    languageBtn.classList.add('changing');

                    try {
                        const res = await fetch('/change-language', {
                            method: 'POST',
                            headers: { 'Content-Type': 'application/json' },
                            body: JSON.stringify({ lang, langName })
                        });
                        const result = await res.json();
                        if (result.success) {
                            setTimeout(() => window.location.reload(), 800);
                        } else {
                            throw new Error('Failed');
                        }
                    } catch (err) {
                        console.error('Language change error:', err);
                        languageBtn.classList.remove('changing');
                    }
                });
            });
        }

        // Ø¹Ù†Ø¯ Ø§Ù„ØªØ­Ù…ÙŠÙ„
        window.addEventListener('DOMContentLoaded', () => {
            createStars();
            applyDirectionStyles();
            
            const card = document.querySelector('.signup-card');
            if (card) {
                card.style.opacity = '0';
                card.style.transform = 'translateY(30px)';
                setTimeout(() => {
                    card.style.transition = 'all 0.8s ease';
                    card.style.opacity = '1';
                    card.style.transform = 'translateY(0)';
                }, 300);
            }

            document.querySelectorAll('.form-input').forEach(input => {
                input.addEventListener('focus', () => input.parentElement.style.transform = 'translateY(-2px)');
                input.addEventListener('blur', () => input.parentElement.style.transform = 'translateY(0)');
            });
        });
    </script>
</body>
</html>